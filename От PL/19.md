# 19-21 ЗАДАНИЯ. ШАБЛОНЫ
1. ОДНА КУЧА
```py
#s - количество камней, m - количество ходов
def f(s, m):
    if s >= 33: return m % 2 == 0
    if m == 0: return 0
    h = [f(s+3, m-1), f(s*2, m-1)]
    return any(h) if (m-1)%2==0 else all(h)


print('19', [s for s in range(1, 33) if f(s, 2)])
print('20', [s for s in range(1, 33) if not(f(s, 1)) and f(s, 3)])
print('21', [s for s in range(1, 33) if not(f(s, 2)) and f(s, 4)])
```
2. ДВЕ КУЧИ
```py
#a - кол-во камней в 1 куче, b - кол-во камней во 2, m - количество ходов
def f(a, b, m):
    if a + b >= 45: return m%2==0
    if m == 0: return 0
    h = [f(a+1, b, m-1), f(a*3, b, m-1), f(a, b+1, m-1), f(a, b*3, m-1)]
    return any(h) if (m-1)%2==0 else all(h) #изменяем all (в else) на any, если ход второго игрока НЕУДАЧНЫЙ


#подставляем известное количество камней в функцию (здесь: 4)
print('19', [s for s in range(1, 41) if f(4, s, 2)])
print('20', [s for s in range(1, 41) if not(f(4, s, 1)) and f(4, s, 3)])
print('21', [s for s in range(1, 41 ) if not(f(4, s, 2)) and f(4, s, 4)])
```
3. УМЕНЬШЕНИЕ
```py
def f(a, b, m):
    if a + b <= 20: return m%2==0
    if m == 0: return 0
    #(a+1)//2 - количество камней уменьшается в 2 раза (если количество камней нечётно, остаётся на 1 камень больше, чем убирается)
    h = [f(a-1, b, m-1), f((a+1)//2, b, m-1), f(a, b-1, m-1), f(a, (b+1)//2, m-1)]
    return any(h) if (m-1)%2==0 else all(h)


print('19', [s for s in range(1, 1000) if f(4, s, 2)])
print('20', [s for s in range(1, 1000) if not(f(4, s, 1)) and f(4, s, 3)])
print('21', [s for s in range(1, 1000) if not(f(4, s, 2)) and f(4, s, 4)])
```
4. ПЕРЕБОР ДВУХ КУЧ
```py
def f(a, b, m):
    if a+b>=45: return m%2==0
    if m == 0: return 0
    h = [f(a+2, b, m-1), f(a*3, b, m-1), f(a, b+2, m-1), f(a, b*3, m-1)]
    return any(h) if (m-1)%2==0 else all(h)


#перебираем k, s в двух циклах
print('19', len([(k, s) for k in range(1, 44) for s in range(1, 44) if not(f(k, s, 0)) and f(k, s, 2)]))
print('20', [s for s in range(1, 44) if not(f(4, s, 1)) and f(4, s, 3)])
print('21', [s for s in range(1, 44) if not(f(13, s, 2)) and f(13, s, 4)])
```
